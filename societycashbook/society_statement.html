<!DOCTYPE html>
<html lang="sw">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Money Memory – Statement</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js"></script>
  <script src="../firebase.js"></script>
  <style>
    body{
      font-family:"Inter",system-ui,-apple-system,sans-serif;
      background:radial-gradient(circle at 10% 20%,rgba(14,165,233,0.18),transparent 30%),
                radial-gradient(circle at 90% 10%,rgba(236,72,153,0.18),transparent 30%),
                linear-gradient(135deg,#0b1220,#0f172a 50%,#0b1220);
      color:#e2e8f0;
      min-height:100vh;
    }
    .glass{background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.12);backdrop-filter:blur(16px);}
  </style>
</head>
<body>
  <div class="max-w-5xl mx-auto px-4 py-8">
    <header class="glass rounded-2xl p-5 flex flex-col gap-3 md:flex-row md:items-center md:justify-between">
      <div class="flex items-center gap-3">
        <a href="societycashbook.html" class="text-sky-300 hover:text-white text-sm font-semibold flex items-center gap-2">
          <span class="text-lg">←</span> Rudi Cashbook
        </a>
        <div>
          <p class="text-xs uppercase tracking-[0.25em] text-slate-300">Statement</p>
          <h1 class="text-2xl font-extrabold text-white">Statement ya Cashbook</h1>
        </div>
      </div>
      <div class="flex gap-3 items-center">
        <select id="stmt-cashbook" class="bg-white/10 border border-white/20 rounded-xl px-3 py-2 text-sm text-white min-w-[160px]">
          <option>Loading...</option>
        </select>
        <input id="stmt-from" type="date" class="bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-sm text-white">
        <input id="stmt-to" type="date" class="bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-sm text-white">
        <button id="stmt-generate" class="px-4 py-2 rounded-lg bg-gradient-to-r from-emerald-400 to-sky-500 text-slate-900 font-semibold">Tengeneza</button>
      </div>
    </header>

    <section class="flex flex-wrap gap-2 mt-4">
      <button class="px-3 py-2 rounded-lg bg-white/10 border border-white/15 text-sm" data-quick="month">Mwezi huu</button>
      <button class="px-3 py-2 rounded-lg bg-white/10 border border-white/15 text-sm" data-quick="last-month">Mwezi uliopita</button>
      <button class="px-3 py-2 rounded-lg bg-white/10 border border-white/15 text-sm" data-quick="year">Mwaka huu</button>
    </section>

    <section class="glass rounded-2xl p-5 mt-6">
      <div class="flex items-center justify-between gap-3 flex-wrap">
        <div>
          <h2 id="stmt-title" class="text-xl font-bold text-white">Statement</h2>
          <p id="stmt-period" class="text-sm text-slate-300">-</p>
        </div>
        <button id="stmt-print" class="px-3 py-2 rounded-lg bg-white/10 border border-white/15 text-sm">Print / Download</button>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-4 gap-3 mt-4 text-sm">
        <div class="glass rounded-xl p-3"><p class="text-slate-400">Opening</p><p id="stmt-opening" class="font-bold text-white">-</p></div>
        <div class="glass rounded-xl p-3"><p class="text-slate-400">Total In</p><p id="stmt-in" class="font-bold text-emerald-200">-</p></div>
        <div class="glass rounded-xl p-3"><p class="text-slate-400">Total Out</p><p id="stmt-out" class="font-bold text-rose-200">-</p></div>
        <div class="glass rounded-xl p-3"><p class="text-slate-400">Closing</p><p id="stmt-closing" class="font-bold text-white">-</p></div>
      </div>
      <div class="mt-4">
        <h3 class="text-lg font-semibold text-white mb-2">Miamala</h3>
        <div id="stmt-list" class="space-y-2 text-sm text-slate-200"></div>
      </div>
      <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-3">
        <div>
          <h4 class="text-md font-semibold text-white mb-2">Muhtasari kwa Pot</h4>
          <div id="stmt-pot-summary" class="space-y-1 text-sm text-slate-200"></div>
        </div>
        <div>
          <h4 class="text-md font-semibold text-white mb-2">Muhtasari kwa Kategoria</h4>
          <div id="stmt-cat-summary" class="space-y-1 text-sm text-slate-200"></div>
        </div>
      </div>
    </section>
  </div>

  <script src="./js/society_statement.js"></script>
</body>
</html>
