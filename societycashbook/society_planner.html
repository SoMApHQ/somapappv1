<!DOCTYPE html>
<html lang="sw">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Money Memory – Planner</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js"></script>
  <script src="../firebase.js"></script>
  <style>
    body {
      font-family: "Inter", system-ui, -apple-system, sans-serif;
      background: radial-gradient(circle at 15% 20%, rgba(79,70,229,0.16), transparent 35%),
                  radial-gradient(circle at 85% 10%, rgba(16,185,129,0.18), transparent 32%),
                  linear-gradient(135deg, #0b1220, #0f172a 50%, #0b1220);
      color: #e2e8f0;
      min-height: 100vh;
    }
    .glass { background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.12); backdrop-filter: blur(16px); }
  </style>
</head>
<body>
  <div class="max-w-5xl mx-auto px-4 py-8">
    <header class="glass rounded-2xl p-5 flex flex-col gap-2 md:flex-row md:items-center md:justify-between">
      <div class="flex items-center gap-3">
        <a href="societycashbook.html" class="text-sky-300 hover:text-white text-sm font-semibold flex items-center gap-2">
          <span class="text-lg">←</span> Rudi Cashbook
        </a>
        <div>
          <p class="text-xs uppercase tracking-[0.25em] text-slate-300">Planner & Calculators</p>
          <h1 class="text-2xl font-extrabold text-white">Kalenda ya Pesa</h1>
        </div>
      </div>
      <div class="flex gap-3 items-center">
        <button id="prev-month" class="px-3 py-2 rounded-lg bg-white/10 border border-white/15">← Mwezi Uliopita</button>
        <div id="planner-month" class="text-lg font-bold">-</div>
        <button id="next-month" class="px-3 py-2 rounded-lg bg-white/10 border border-white/15">Mwezi Ujao →</button>
        <select id="planner-cashbook" class="bg-white/10 border border-white/20 rounded-xl px-3 py-2 text-sm text-white min-w-[160px]">
          <option>Loading...</option>
        </select>
      </div>
    </header>

    <section class="glass rounded-2xl p-5 mt-6">
      <h2 class="text-lg font-bold text-white mb-3">Kalenda</h2>
      <div id="planner-calendar" class="grid grid-cols-7 gap-2 text-sm"></div>
      <p class="text-xs text-slate-400 mt-2">Kila kisanduku: net (mapato - matumizi) ya siku.</p>
    </section>

    <section class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-6">
      <article class="glass rounded-2xl p-4">
        <h3 class="text-lg font-bold text-white">Gawa Pesa kwa Siku</h3>
        <div class="space-y-2 text-sm">
          <input id="split-amount" type="number" placeholder="Kiasi" class="w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white">
          <input id="split-start" type="date" class="w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white">
          <input id="split-end" type="date" class="w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white">
          <button id="split-calc" class="w-full bg-gradient-to-r from-emerald-400 to-sky-500 text-slate-900 font-semibold rounded-lg px-3 py-2">Kokotoa</button>
          <div id="split-output" class="text-slate-200"></div>
        </div>
      </article>
      <article class="glass rounded-2xl p-4">
        <h3 class="text-lg font-bold text-white">Gawa Pesa kwa Pots</h3>
        <textarea id="pots-input" class="w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white text-sm" rows="4" placeholder="Andika kiasi na uwiano: Nyumbani=30, Shule=25, Biashara=20, MJ=10, Akiba=10, Gari=5"></textarea>
        <button id="pots-calc" class="w-full mt-2 bg-gradient-to-r from-indigo-400 to-purple-500 text-slate-900 font-semibold rounded-lg px-3 py-2">Gawa</button>
        <div id="pots-output" class="text-slate-200 mt-2 text-sm"></div>
      </article>
      <article class="glass rounded-2xl p-4">
        <h3 class="text-lg font-bold text-white">Lengo la Akiba</h3>
        <div class="space-y-2 text-sm">
          <input id="goal-target" type="number" placeholder="Lengo (kiasi)" class="w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white">
          <input id="goal-deadline" type="date" class="w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white">
          <input id="goal-current" type="number" placeholder="Uliohifadhi sasa" class="w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white">
          <button id="goal-calc" class="w-full bg-gradient-to-r from-amber-300 to-rose-400 text-slate-900 font-semibold rounded-lg px-3 py-2">Kokotoa</button>
          <div id="goal-output" class="text-slate-200"></div>
        </div>
      </article>
    </section>
  </div>

  <script src="./js/society_planner.js"></script>
</body>
</html>
